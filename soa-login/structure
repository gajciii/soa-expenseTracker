Models {
	UserCreate:
		username: str (min_length=3, max_length=50)
		email: EmailStr
		password: str (min_length=6)
		first_name: Optional[str]
		last_name: Optional[str]

	UserUpdate:
		username: Optional[str] (min_length=3, max_length=50)
		email: Optional[EmailStr]
		first_name: Optional[str]
		last_name: Optional[str]
		password: Optional[str] (min_length=6)

	UserLogin:
		username: str
		password: str

	UserResponse:
		user_id: str (UUID)
		username: str
		email: str
		first_name: Optional[str]
		last_name: Optional[str]
		created_at: datetime
		updated_at: datetime
		is_active: bool
}


Supabase Schema {
	users:
		id: UUID (PRIMARY KEY, DEFAULT gen_random_uuid())
		username: VARCHAR(50) (UNIQUE, NOT NULL)
		email: VARCHAR(255) (UNIQUE, NOT NULL)
		password: TEXT (NOT NULL) # SHA256 hash with salt
		first_name: VARCHAR(100)
		last_name: VARCHAR(100)
		created_at: TIMESTAMPTZ (NOT NULL, DEFAULT NOW())
		updated_at: TIMESTAMPTZ (NOT NULL, DEFAULT NOW())
		is_active: BOOLEAN (NOT NULL, DEFAULT TRUE)

	Indexes:
		idx_users_username ON users(username)
		idx_users_email ON users(email)
		idx_users_is_active ON users(is_active)
}


docker: [docker-compose up --build]
env: [
	PORT=8001
	SUPABASE_URL=https://your-project.supabase.co
	SUPABASE_KEY=your-anon-key
	CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
	EXPENSE_SERVICE_URL=http://host.docker.internal:8000
]


methods:

[POST] /users/register
-> create a new user
-> body: UserCreate { username: str, email: EmailStr, password: str, first_name?: str, last_name?: str }
-> returns: { "message": "User created successfully", "user_id": string }
-> status: 201

[POST] /users/login
-> login a user
-> body: UserLogin { username: str, password: str }
-> returns: UserResponse
-> status: 200
-> error: 401 if invalid credentials

[GET] /users/{user_id}
-> get a user by id
-> returns: UserResponse
-> status: 200
-> error: 400 if invalid UUID, 404 if user not found

[GET] /users/
-> get all users (with pagination)
-> query params: skip (optional, default: 0), limit (optional, default: 100)
-> returns: list[UserResponse]
-> status: 200

[PUT] /users/{user_id}
-> update a user
-> body: UserUpdate { username?: str, email?: EmailStr, first_name?: str, last_name?: str, password?: str }
-> returns: { "message": "User updated successfully" }
-> status: 200
-> error: 400 if invalid UUID or validation error, 404 if user not found

[PUT] /users/{user_id}/status
-> update user status (active/inactive)
-> body: { "is_active": bool }
-> returns: { "message": "User status updated to active/inactive" }
-> status: 200
-> error: 400 if invalid UUID or missing is_active, 404 if user not found

[DELETE] /users/{user_id}
-> delete a user by id
-> returns: { "message": "User deleted successfully" }
-> status: 200
-> error: 400 if invalid UUID, 404 if user not found

[DELETE] /users/
-> delete all users
-> returns: { "message": "Deleted {count} users successfully" }
-> status: 200

